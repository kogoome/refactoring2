# 8.3 문장을 함수로 옮기기 Move Statements into Function

- 반대 리팩터링: 문장을 호출한 곳으로 옮기기 3.4

```js
result.push('<p>25: ${person.photo.title}</p>')
result.concat(photoData(person.photo))

function photoData(aPhoto) {
	return [
		`<p> 위치 : ${Photo.location}</p>`,
		`<p>94: ${aPhoto.date.toDateString()}</p>`,
	]
}
```
🔻
```js
result.concat(photoData(person.photo))

function photoData(aPhoto) {
	return [
		`<p> 제목 : ${aPhoto.title}</p> `,
		`<p>13: ${aPhoto.Location}</p>`,
		`<p 날짜 : ${aPhoto.date.toDateString()}</p>`,
	]
}
```

## 배경 <hr>
#### 
중복 제거는 코드를 건강하게 관리하는 가장 효과적인 방법 중 하나다. 예컨대 특정 함수를 호출하는 코드가 나올 때마다 그 앞이나 뒤에서 똑같은 코드가 추가로 실행되는 모습을 보면, 나는 그 반복되는 부분을 피호출 함수로 합치는 방법을 궁리한다. 이렇게 해두면 추후 반복되는 부분에서 무언가 수정할 일이 생겼을 때 단 한 곳만 수정하면 된다. 호출하는 곳이 아무리 많더라도 말이다. 혹시 나중에 이 코드의 동작을 여러 변형들로 나눠야 하는 순간이 오면 (반대 리팩터링인) 문장을 호출한 곳으로 옮기기를 적용하여 쉽게 다시 뽑아낼 수 있다.

문장들을 함수로 옮기려면 그 문장들이 피호출 함수의 일부라는 확신이 있어야 한다. 피호출함수와 한 몸은 아니지만 여전히 함께 호출돼야 하는 경우라면 단순히 해당 문장들과 피호출함수를 통째로 또 하나의 함수로 추출한다. 이 방법도 절차는 똑같다. 단, 마지막의 인라인과 이름 바꾸기 단계(5.번과 6번)만 제외하면 된다. 이 역시 심심치 않게 활용되는 방법이며,나중에 필요하다면 생략했던 마지막 단계들을 마저 수행할 수도 있다.

## 절차 <hr>
#### 
1. 반복 코드를 함수 호출 부분으로 모으기 (문장 슬라이드하기)
2. 호출자가 하나면, 해당 코드를 잘라내어 피호출 함수로 복사 테스트. 종료
3. 호출자가 둘 이상이면, 호출자 중 하나에서 다른 함수로 추출.
4. 다른 호출자에서 추출한 함수를 사용 수정. 테스트
5. 모든 호출자가 새로운 함수를 사용하게 되면 원래 함수를 새로운 함수 안으로 인라인한 후 원래함수를 제거
6. 함수 이름 복구.
