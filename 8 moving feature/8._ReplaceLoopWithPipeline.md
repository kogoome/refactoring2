# 8.8 반복문을 파이프라인으로 바꾸기 Replace Loop with Pipeline

```js
const names = []
for (const i of input) {
	if ((i.job = 'programmer')) names.push(i.name)
}
```
<center>🔻</center>

```js
const names = input.filter((i) => i.job === 'programmer').map((i) => i.name)
```

## 배경 <hr>

####
프로그래머 대부분이 그렇듯 나도 객체 컬렉션을 순회할 때 반복문을 사용하라고 배웠다. 하지만 언어는 계속해서 더 나은 구조를 제공하는 쪽으로 발전해왔다. 예컨대 이번 이야기의 주인공인 컬렉션 파이프라인 collection Pipeline을 이용하면 처리 과정을 일련의 연산으로 표현할 수있다. 이때 각 연산은 컬렉션을 입력받아 다른 컬렉션을 내뱉는다. 대표적인 연산은 map과 filter다. map은 함수를 사용해 입력 컬렉션의 각 원소를 변환하고, filter는 또 다른 함수를 사용해 입력 컬렉션을 필터링해 부분집합을 만든다. 이 부분집합은 파이프라인의 다음 단계를 위한 컬렉션으로 쓰인다. 논리를 파이프라인으로 표현하면 이해하기 훨씬 쉬워진다. 객체가 파이프라인을 따라 흐르며 어떻게 처리되는지를 읽을 수 있기 때문이다.

## 절차 <hr>

####
1. 반복문에 사용할 컬렉션 변수 생성
- 기존 변수를 단순히 복사한 것일 수도 있다.
2. 반복문의 첫 줄부터 각각의 단위 행위를 컬렉션 파이프라인 연산으로 대체. 테스트
3. 모든 동작 대체시 반복문 제거
- 반복문이 결과를 누적 변수에 대입했다면 파이프라인의 결과를 그 누적 변수에 대입한다.
