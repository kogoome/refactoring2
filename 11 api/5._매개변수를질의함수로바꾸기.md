# 11.5 매개변수를 질의함수로 바꾸기 Replace Parameter With Query

```js
availableVacation(anEmployee, anEmployee.grade)

function availableVacation(anEmployee, grade) {
	// 연휴계산
}
```

<center>🔻</center>

```js
availableVacation(anEmployee)

function availableVacation(anEmployee) {
	const grade = anEmployee.grade
	// 연휴계산
}
```

## 배경 <hr>

매개변수는 함수 동작 변화의 1차 수단이다.
매개변수 또한 중복을 피하고 짧을수록 좋다.

피호출 함수가 쉽게 결정할 수 있는 값을 매개변수로 건네는 것도 일종의 중복이다.
매개변수의 값은 호출자가 정하게 되는데 피호출함수가 결정할 수 있는 매개변수라면 코드만 복잡하게 만든다.

매개변수는 값을 결정하는 책임 주체를 만든다.
매개변수가 있다면 값을 결정하는 책임주체가 호출자가되고
없다면 책임주체는 피호출함수가 된다.

매개변수를 질의함수로 바꾸지 말아야 하는 상황도 있다.
매개변수를 제거하면 피호출 함수에 원치않는 의존성이 생길때다.

제거하려는 매개변수의 값을 다른 매개변수에 질의하여 얻을 수 있다면 안심하고 질의함수로 바꾼다.

주의사항은 대상 함수가 참조투명해야 한다.
참조투명이란 함수에 똑같은 값을 건네 호출하면 항상 같은 동작이 일어나는 것을 말한다.

## 절차 <hr>

1. 필요하다면 대상 매개변수의 값을 계산하는 코드를 별도 함수로 추출한다.
2. 함수 본문에서 대상 매개변수로의 참조를 모두 찾아서 그 매개변수의 값을 만들어주는 표현식을 참조하도록 바꾼다. 테스트
3. 함수 선언을 변경해 대상 매개변수를 없엔다.
